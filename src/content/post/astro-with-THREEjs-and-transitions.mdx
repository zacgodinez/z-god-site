---
publishDate: 2024-10-01T00:00:00Z
author: ZG
title: Get started with Astro, THREEjs and view transitions
excerpt: The Astro THREEjs starter project that nobody asked for!
image: '~/assets/images/og-image-1200-628.png'
category: Tutorials
tags:
  - astro
  - tailwind css
  - THREEjs
metadata:
  canonical: https://astrowind.vercel.app/get-started-website-with-astro-tailwind-css
---

import VideoBlog from '~/components/blog/VideoBlog.astro';
import ImageBlog from '~/components/blog/ImageBlog.astro';

You have probably seen with an eyeball or two ðŸ‘€, the demo of Astro websites using native browser [page transitions](https://docs.astro.build/en/guides/view-transitions/).
You see them, and you want em'.

I get it, I want em' too.

So how to get them to play nicely with [three.js](https://threejs.org/) in Astro?

Load the memes and **let's go** work it out.

<ImageBlog
  src="posts/astro-with-THREEjs-and-transitions/cage-01.webp"
  alt="Cage McCage let's go"
/>

### Installing Astro

The Astro docs are great, I will be referencing them [here](https://docs.astro.build/en/install-and-setup/) throughout the tutorial.

Let's install astro using the cli.

```bash
pnpm create astro@latest
```

Follow the cli prompts start and *Empty* project.

The first things thing we will do, is setup two pages for the index and about page, and add transitions between the pages.

```plaintext
src/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ index.astro
â”‚   â””â”€â”€ about.astro
```


## Astro components

We will add two components to reduce some duplication on both our *index* and *about* page.


```typescript title="head.astro"
---
import { ViewTransitions } from 'astro:transitions';
export interface Props {
  pageTitle: string;
}

const { pageTitle } = Astro.props;

const BASE_URL = import.meta.env.BASE_URL
---
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content={Astro.generator} />
  <link rel="icon" type="image/svg+xml" href={`${BASE_URL}/favicon.svg`} />
  <link rel="stylesheet" href={`${BASE_URL}/style.css`}>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Pixelify+Sans:wght@400..700&display=swap" rel="stylesheet">
  <ViewTransitions />
  <title>{pageTitle}</title>
</head>
```

Take note of the [*ViewTransitions*](https://docs.astro.build/en/guides/view-transitions/) import, this is the Astro magic that will automatically handle page transitions when switching between our pages.

Now let's create a component for out menu, in order to navigate between pages.


```typescript title="menu.astro"
---
const BASE_URL = import.meta.env.BASE_URL
---
<ul class="page-menu">
  <li>
    <a href={`${BASE_URL}/`} class={Astro.url.pathname === `${BASE_URL}` ? "active" : ""}>
      home
    </a>
  </li>
  <li>
    <a href={`${BASE_URL}/about/`} class={Astro.url.pathname === `${BASE_URL}/about/` ? "active" : ""}>
      about
    </a>
  </li>
</ul>
```

### Astro pages

Now let's use these components `<Head />` and `<Menu />` in both out pages.


```typescript title="index.astro"
---
import Menu from '../components/menu.astro';
import Head from '../components/head.astro';
---

<html lang="en">
  <Head pageTitle="Astro: home page" />
	<body>
		<div class="canvas-wrapper">
			<canvas id="three-js-canvas" />
		</div>
		<div class="page-wrapper">
			<h1 class="page-heading">Astro demo with Three.js and page transitions</h1>
			<Menu />
			<div class="page-box">
				{[...Array(50)].map(() => (
					<p>home page home page home page home page home page home page home page home page home page home page home page home page</p>
				))}
			</div>
		</div>
	</body>
</html>
```


```typescript title="about.astro"
---
import Menu from '../components/menu.astro';
import Head from '../components/head.astro';
---

<html lang="en">
  <Head pageTitle="Astro: about page" />
	<body>
		<div class="canvas-wrapper">
			<canvas id="three-js-canvas" />
		</div>
		<div class="page-wrapper">
			<h1 class="page-heading">Astro demo with Three.js and page transitions</h1>
			<Menu />
			<div class="page-box">
				{[...Array(50)].map(() => (
					<p>about page about page about page about page about page about page about page about page about page about page about page about page</p>
				))}
			</div>
		</div>
	</body>
</html>

```

### Styles

Ok, at this point we have a markup for our pages, now let's add some css to make this not look like the 90's.

This css file will be referenced in the `<Head />` component

```bash
<link rel="stylesheet" href={`${BASE_URL}/style.css`}>
```

<ImageBlog
  src="posts/astro-with-THREEjs-and-transitions/some-final-css.jpg"
  alt="Cage McCage let's go"
/>

```css title="style.css"
body {
	margin: 0;
	background: #1f1f1f;
	color: #fff;
	box-sizing: border-box;
	font-family: "Pixelify Sans", -apple-system, BlinkMacSystemFont, "Segoe UI",
		Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
		"Segoe UI Symbol";
	font-optical-sizing: auto;
	font-weight: 400;
	font-style: normal;
	overflow-x: hidden;
	background-image: radial-gradient(circle, #535353 1px, transparent 1px);
	background-size: 15px 15px;
}

* {
	box-sizing: border-box;
}

a {
	color: #fff;
}

#three-js-canvas {
	position: relative;
}

.canvas-wrapper {
	position: absolute;
	overflow: hidden;
	width: 100vw;
	height: 100vh;
	display: flex;
	align-items: center;
	justify-content: center;
}

.page-wrapper {
	position: relative;
	padding: 40px;
}

.page-heading {
	text-align: center;
}

.page-menu {
	display: flex;
	justify-content: center;
	width: 100%;
	list-style: none;
	text-transform: uppercase;
	gap: 20px;
	font-size: 24px;
}

.page-menu a {
	text-decoration: none;
}

.page-menu a.active,
.page-menu a:hover {
	text-decoration: underline;
}

.page-box {
	width: 100%;
	height: calc(100vh - 250px);
	background: rgba(0, 0, 0, 0.5);
	padding: 20px;
	overflow: hidden;
	text-align: center;
}

.page-box p {
	font-size: 34px;
	line-height: 34px;
}
```

### Page Transitions

Now we can view our page transitions in all their glory.


<VideoBlog src="posts/astro-with-THREEjs-and-transitions/transition.mp4" />

More boar wants moar

<VideoBlog src="posts/astro-with-THREEjs-and-transitions/transition-three-js.mp4" />

### Three.JS

Install three.js in your astro project

```bash
pnpm add three
```

Once installed let's create two files `entry.ts` and `create-scene.ts`


```plaintext
src/
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ create-scene.ts
â”‚   â””â”€â”€ entry.ts
```
